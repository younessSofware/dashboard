
<div class="">
  <div class="flex justify-between items-center">
    <span class="text-3xl block uppercase my-2"><i [class]="icon + ' mx-2'"></i>{{ title }}</span>
    <ng-content select=".header-buttons"></ng-content>
  </div>
  <hr>
</div>
<div class="grid grid-cols-5 lg:grid-cols-8 xl:grid-cols-12 mt-5 gap-5">
  <div class="card col-span-5 lg:col-span-4 xl:col-span-4 md:col-start-1">
    <app-loading-line [loading]="!profile && profileError"></app-loading-line>
    <div class="card-title">
      <span>{{ profileTitle | translate}}</span>
    </div>
    <div class="px-2">
      <app-alert type="danger" [message]="profileError" *ngIf="profileError"></app-alert>
    </div>
    <div class="my-2 md:mx-0 md:block">
      <ng-content select=".profile-info" *ngIf="!showDefaultProfileInfo"></ng-content>
      <div class="flex justify-center md:my-8" *ngIf="showDefaultProfileInfo">
        <img src="./../../../../../assets/admin_avatar.png" class="w-20 h-20 rounded-full ring-1 ring-gray-200" alt="">
      </div>
      <div class="px-4 mt-2 w-full" *ngIf="profile && showDefaultProfileInfo">
        <table class="w-full text-center">
          <tr>
            <td>{{ 'full_name' | translate }}</td>
            <td>{{ profile.name }}</td>
          </tr>
          <tr>
            <td>{{ 'phone_number' | translate }}</td>
            <td>{{ profile.phoneNumber }}</td>
          </tr>
          <tr>
            <td>{{ 'address' | translate }}</td>
            <td>{{ profile.address }}</td>
          </tr>
          <tr>
            <td>{{ 'longitude' | translate }}</td>
            <td>{{ profile.longitude }}</td>
          </tr>
          <tr>
            <td>{{ 'latitude' | translate }}</td>
            <td>{{ profile.latitude }}</td>
          </tr>
        </table>
      </div>
    </div>
  </div>

  <div
    class="card col-span-5 xl:col-span-5"
    [class]="chart.type == 'line' ? 'lg:col-span-8 xl:col-span-12' : 'lg:col-span-4 xl:col-span-8'"
    *ngFor="let chart of charts; let first = first"
  >
    <app-loading-line [loading]="(!chart.values || !chart.values.length) && !chart.error"></app-loading-line>
    <div class="card-title capitalize">
      <span>{{ chart.name | translate }}</span>
    </div>
    <div class="px-2">
      <app-alert type="danger" [message]="chart.error" *ngIf="chart.error"></app-alert>
    </div>
    <div *ngIf="chart.values && chart.values.length" class="px-2 flex flex-col justify-end">
      <app-line-chart
        [categories]="chart.categories"
        [title]="chart.title"
        [dataName]="chart.name"
        [values]="chart.values"
        *ngIf="chart.type == 'line'"
      >
      </app-line-chart>
      <app-radial-bar
        [labels]="chart.categories"
        [colors]="chart.colors"
        [max]="chart.max"
        [values]="chart.values"
        *ngIf="chart.colors && chart.type == 'radial'"
      >
      </app-radial-bar>
    </div>
  </div>
</div>
