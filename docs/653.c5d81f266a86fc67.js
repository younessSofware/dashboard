"use strict";(self.webpackChunkwabel_dashboard=self.webpackChunkwabel_dashboard||[]).push([[653],{7653:(O,u,a)=>{a.r(u),a.d(u,{EventModule:()=>C});var i=a(7533),m=a(6672),l=a(6019),v=a(8239),e=a(3668),s=a(7109),p=a(3798),g=a(7236);function f(n,r){if(1&n&&(e.TgZ(0,"div",3),e.TgZ(1,"div",4),e.TgZ(2,"table",5),e.TgZ(3,"tr",6),e.TgZ(4,"td",7),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"td",8),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"tr",6),e.TgZ(10,"td",7),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"td",8),e._uU(14),e.qZA(),e.qZA(),e.TgZ(15,"tr",6),e.TgZ(16,"td",7),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"td",8),e._uU(20),e.qZA(),e.qZA(),e.TgZ(21,"tr",6),e.TgZ(22,"td",7),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"td",8),e._uU(26),e.qZA(),e.qZA(),e.TgZ(27,"tr",6),e.TgZ(28,"td",7),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"td",8),e._uU(32),e.qZA(),e.qZA(),e.TgZ(33,"tr",6),e.TgZ(34,"td",7),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"td",8),e._uU(38),e.qZA(),e.qZA(),e.TgZ(39,"tr",6),e.TgZ(40,"td",7),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"td",8),e._uU(44),e.ALo(45,"date"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,14,"name")),e.xp6(3),e.Oqu(t.event.name),e.xp6(3),e.Oqu(e.lcZ(12,16,"type")),e.xp6(3),e.Oqu(t.event.type),e.xp6(3),e.Oqu(e.lcZ(18,18,"date_from")),e.xp6(3),e.Oqu(t.event.date_from),e.xp6(3),e.Oqu(e.lcZ(24,20,"date_to")),e.xp6(3),e.Oqu(t.event.date_to),e.xp6(3),e.Oqu(e.lcZ(30,22,"details")),e.xp6(3),e.Oqu(t.event.details),e.xp6(3),e.Oqu(e.lcZ(36,24,"location")),e.xp6(3),e.Oqu(t.event.location),e.xp6(3),e.Oqu(e.lcZ(42,26,"created_at")),e.xp6(3),e.Oqu(e.xi3(45,28,t.event.created_at,"medium"))}}let h=(()=>{class n{constructor(t,o,c){this.route=t,this.dataService=o,this.translateService=c}ngOnInit(){var t=this;return(0,v.Z)(function*(){console.log("month before: ",t.monthBefore()),t.getDataId()})()}monthBefore(){const t=new Date;return[...new Array(31).keys()].map((o,c)=>(c&&t.setDate(t.getDate()-1),t.getDate()+" "+t.toString().slice(4,7))).reverse()}getDataId(){this.route.queryParamMap.subscribe(t=>{const o=t.get("id");o&&(this.eventId=+o),this.getEvent()})}getEvent(){this.dataService.sendGetRequest("events/"+this.eventId,{}).subscribe({next:t=>{this.event=t},error:t=>{this.eventError=t}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.gz),e.Y36(p.D),e.Y36(i.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-event-display"]],decls:3,vars:4,consts:[[1,"px-4","py-2","bg-gray-100","h-full","overflow-auto"],["profileTitle","event","icon","fa-calendar-alt fas",1,"w-full",3,"title","profileError","showDefaultProfileInfo"],["class","profile-info",4,"ngIf"],[1,"profile-info"],[1,"pl-4","md:mt-4","overflow-x-auto","relative","shadow-md","sm:rounded-lg"],[1,"w-full","text-sm","text-center","text-gray-500","dark:text-gray-400"],[1,"border"],[1,"py-4","px-6","bg-gray-50"],[1,"py-4","px-6"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"app-display",1),e.YNc(2,f,46,31,"div",2),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("title",o.event?o.event.name:"")("profileError",o.eventError)("showDefaultProfileInfo",!1),e.xp6(1),e.Q6J("ngIf",o.event))},directives:[g.D,l.O5],pipes:[i.X$,l.uU],styles:[".user-info[_ngcontent-%COMP%]{margin-top:.75rem;margin-bottom:.75rem;display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-top:.5rem;padding-bottom:.5rem}.user-info[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-left:.25rem;margin-right:.25rem;font-weight:700}.card[_ngcontent-%COMP%]{border-radius:.75rem;border-width:2px;--tw-border-opacity: 1;border-color:rgba(243,244,246,var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-shadow: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.card-title[_ngcontent-%COMP%]{padding:.5rem}.card-title[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem;font-weight:700}.button[_ngcontent-%COMP%]{margin-left:.25rem;margin-right:.25rem;border-radius:.5rem;border-width:1px;--tw-border-opacity: 1;border-color:rgba(229,231,235,var(--tw-border-opacity));padding:.5rem 1rem;--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity))}.button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;--tw-bg-opacity: 1;background-color:rgba(156,163,175,var(--tw-bg-opacity))}.button[_ngcontent-%COMP%]:disabled:hover{--tw-bg-opacity: 1;background-color:rgba(156,163,175,var(--tw-bg-opacity))}"]}),n})();var d=a(9133),y=a(2911);let Z=(()=>{class n{constructor(t,o){this.dataService=t,this.route=o}ngOnInit(){this.user=JSON.parse(localStorage.getItem("user")),1==this.user.role&&(this.userId=this.user.id),this.getCategories()}getCategories(){this.dataService.sendGetRequest("categories/sort/0",{}).subscribe({next:t=>{this.categories=t,this.route.queryParams.subscribe(o=>{o.id&&(this.userId=parseInt(o.id)),console.log(o),this.initHeaders()})},error:t=>{console.log(t)}})}initHeaders(){this.headers=[{name:"id",title:"id",hidden:!0,value:""},{name:"name",title:"name",type:"text",value:"",validators:[{validatorFn:d.kI.required,message:"name_required"}]},{name:"type",title:"category_type",type:"select",selectOptions:{options:this.categories,valueProperty:"name",nameProperty:"name"},value:"",validators:[{validatorFn:d.kI.required,message:"name_required"}]},{name:"date_from",title:"date_from",type:"date",value:"",validators:[{validatorFn:d.kI.required,message:"date_required"}]},{name:"date_to",title:"date_to",type:"date",value:""},{title:"details",name:"details",type:"textarea",value:""},{title:"location",name:"location",type:"text",value:""}]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.D),e.Y36(s.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-client-form"]],decls:1,vars:4,consts:[["pluralName","events","singleName","event","icon","fas fa-user","retrieveURL","events/:id","updateURL","events",3,"headers","redirectLink","redirectLinkQueryId","storeURL"]],template:function(t,o){1&t&&e._UZ(0,"app-form",0),2&t&&e.Q6J("headers",o.headers)("redirectLink",o.userId?"/dashboard/clients/display":"/dashboard/events/list")("redirectLinkQueryId",0==o.user.role?o.userId:0)("storeURL",o.userId?"events/users/"+o.userId:"events")},directives:[y.U],styles:[""]}),n})();var b=a(8745);let w=(()=>{class n{constructor(){this.headers=[{name:"id",title:"id",hidden:!0,value:""},{name:"name",title:"name",search:!0},{name:"type",title:"type"},{name:"date_from",title:"date_from"},{name:"date_to",title:"date_to"},{name:"created_at",title:"created_at",type:"date"}],this.tableButtons=[{name:"block",title:"block",icon:"fas fa-ban",color:"blue",dataField:"events.id",request:{url:"events",method:"delete"},confirmation:{title:"are_you_sure",text:"block_event_conf_msg",confirmButtonText:"yes",confirmButtonColor:"red",showCancelButton:!0,cancelButtonText:"no",icon:"warning"}}],this.buttons=[]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-event-list"]],decls:1,vars:5,consts:[["pluralName","events","singleName","event","primaryKey","id","deleteURL","events/:id","retrieveURL","events","displayLink","/dashboard/events/display","editLink","/dashboard/events/form/edit","createLink","/dashboard/events/form/create","icon","fa-calendar-alt fas",3,"headers","rowButtons","tableButtons","showSortFilter","showDeleteButton"]],template:function(t,o){1&t&&e._UZ(0,"app-table",0),2&t&&e.Q6J("headers",o.headers)("rowButtons",o.buttons)("tableButtons",o.tableButtons)("showSortFilter",!1)("showDeleteButton",!1)},directives:[b.a],styles:[""]}),n})();const A=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-client"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},directives:[s.lC],styles:[""]}),n})(),children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:w,canActivate:[a(8498).u]},{path:"form/:type",component:Z},{path:"display",component:h}]}];let T=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[s.Bz.forChild(A)],s.Bz]}),n})(),C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[l.ez,T,m.G,i.aw]]}),n})()}}]);