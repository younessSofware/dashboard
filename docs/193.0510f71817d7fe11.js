"use strict";(self.webpackChunkwabel_dashboard=self.webpackChunkwabel_dashboard||[]).push([[193],{7193:(M,p,i)=>{i.r(p),i.d(p,{ArticleModule:()=>T});var l=i(7533),g=i(6672),s=i(6019),n=i(7109),f=i(8239),u=i(7321),t=i(3668),m=i(3798),h=i(7236);let y=(()=>{class r{transform(e){return`${u.R}/${e}`}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275pipe=t.Yjl({name:"serverMedia",type:r,pure:!0}),r})();function v(r,a){if(1&r&&(t.TgZ(0,"div",3),t.TgZ(1,"div",4),t._UZ(2,"img",5),t.ALo(3,"serverMedia"),t.qZA(),t.TgZ(4,"div",6),t.TgZ(5,"table",7),t.TgZ(6,"tr",8),t.TgZ(7,"td",9),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"td",10),t._uU(11),t.qZA(),t.qZA(),t.TgZ(12,"tr",8),t.TgZ(13,"td",9),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"td",10),t._uU(17),t.qZA(),t.qZA(),t.TgZ(18,"tr",8),t.TgZ(19,"td",9),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"td",10),t._uU(23),t.ALo(24,"date"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&r){const e=t.oxw();t.xp6(2),t.Q6J("src",t.lcZ(3,7,e.article.image),t.LSH),t.xp6(6),t.Oqu(t.lcZ(9,9,"title")),t.xp6(3),t.Oqu(e.article.title),t.xp6(3),t.Oqu(t.lcZ(15,11,"text")),t.xp6(3),t.Oqu(e.article.texte),t.xp6(3),t.Oqu(t.lcZ(21,13,"created_at")),t.xp6(3),t.Oqu(t.xi3(24,15,e.article.created_at,"medium"))}}let b=(()=>{class r{constructor(e,o,d){this.route=e,this.dataService=o,this.translateService=d}get articleSearchQuery(){return encodeURIComponent(JSON.stringify({article:{id:this.articleld}}))}ngOnInit(){var e=this;return(0,f.Z)(function*(){e.getDataId()})()}monthBefore(){const e=new Date;return[...new Array(31).keys()].map((o,d)=>(d&&e.setDate(e.getDate()-1),e.getDate()+" "+e.toString().slice(4,7))).reverse()}getDataId(){this.route.queryParamMap.subscribe(e=>{const o=e.get("id");o&&(this.articleld=+o),this.getArticle()})}getArticle(){this.dataService.sendGetRequest("articles/"+this.articleld,{}).subscribe({next:e=>{this.article=e,console.log(e)},error:e=>{this.articleError=e}})}image(){return this.article?u.R+this.article.image:null}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(n.gz),t.Y36(m.D),t.Y36(l.sK))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-articel-display"]],decls:3,vars:4,consts:[[1,"px-4","py-2","bg-gray-100","h-full","overflow-auto"],["profileTitle","article","icon","fas fa-newspaper",1,"w-full",3,"title","profileError","showDefaultProfileInfo"],["class","profile-info",4,"ngIf"],[1,"profile-info"],[1,"flex","justify-center"],["alt","",1,"w-full","ring-1","ring-gray-200",3,"src"],[1,"pl-4","md:mt-4"],[1,"w-full","text-sm","text-center","text-gray-500","dark:text-gray-400"],[1,"border"],[1,"py-4","px-6","bg-gray-50"],[1,"py-4","px-6"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"app-display",1),t.YNc(2,v,25,18,"div",2),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("title",o.article?o.article.title:"")("profileError",o.articleError)("showDefaultProfileInfo",!1),t.xp6(1),t.Q6J("ngIf",o.article))},directives:[h.D,s.O5],pipes:[y,l.X$,s.uU],styles:[".card[_ngcontent-%COMP%]{cursor:pointer;border-radius:.75rem;border-width:1px;--tw-border-opacity: 1;border-color:rgba(156,163,175,var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-shadow: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;transition-duration:.2s}.card[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgba(229,231,235,var(--tw-bg-opacity));--tw-shadow: 0 20px 25px -5px rgba(0, 0, 0, .1), 0 10px 10px -5px rgba(0, 0, 0, .04);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.profile-info[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.title[_ngcontent-%COMP%]{font-weight:bold;font-size:16px}td[_ngcontent-%COMP%]{padding:10px;border:1px solid #bbb}td[_ngcontent-%COMP%]:first-child{background-color:#eee}.button[_ngcontent-%COMP%]{margin-left:.25rem;margin-right:.25rem;border-radius:.5rem;border-width:1px;--tw-border-opacity: 1;border-color:rgba(229,231,235,var(--tw-border-opacity));padding:.5rem 1rem;--tw-text-opacity: 1;color:rgba(255,255,255,var(--tw-text-opacity))}.button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;--tw-bg-opacity: 1;background-color:rgba(156,163,175,var(--tw-bg-opacity))}.button[_ngcontent-%COMP%]:disabled:hover{--tw-bg-opacity: 1;background-color:rgba(156,163,175,var(--tw-bg-opacity))}"]}),r})();var c=i(9133),w=i(2911);let x=(()=>{class r{constructor(e){this.dataService=e,this.headers=[]}ngOnInit(){this.getCategories()}getCategories(){this.initHeaders(),this.dataService.sendGetRequest("categories/sort/1",{}).subscribe({next:e=>{this.categories=e,this.initHeaders()},error:e=>{console.log(e)}})}initHeaders(){this.headers=[{name:"id",title:"id",hidden:!0,value:""},{name:"image",title:"image",type:"cover"},{name:"title",title:"title",type:"text",value:"",validators:[{validatorFn:c.kI.required,message:"name_required"}]},{name:"texte",title:"texte",type:"textarea",value:"",validators:[{validatorFn:c.kI.required,message:"text_required"}]},{name:"type",title:"category_type",type:"select",selectOptions:{options:this.categories,valueProperty:"name",nameProperty:"name"},value:"",validators:[{validatorFn:c.kI.required,message:"name_required"}]}]}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(m.D))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-article-form"]],decls:1,vars:1,consts:[["pluralName","articles","singleName","article","icon","fas fa-newspaper","redirectLink","/dashboard/articles/list","retrieveURL","articles/:id","storeURL","articles","updateURL","articles",3,"headers"]],template:function(e,o){1&e&&t._UZ(0,"app-form",0),2&e&&t.Q6J("headers",o.headers)},directives:[w.U],styles:[""]}),r})();var A=i(8745);const Z=[{path:"",component:(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-article"]],decls:1,vars:0,template:function(e,o){1&e&&t._UZ(0,"router-outlet")},directives:[n.lC],styles:[""]}),r})(),children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:(()=>{class r{constructor(){this.headers=[{name:"id",title:"id",hidden:!0,value:""},{name:"title",title:"title",search:!0},{name:"type",title:"type"},{name:"image",title:"image",type:"cover"},{name:"texte",title:"texte",maxLength:40},{name:"created_at",title:"created_at",type:"date"}],this.tableButtons=[{name:"block",title:"block",icon:"fas fa-ban",color:"blue",dataField:"articles.id",request:{url:"articles",method:"delete"},confirmation:{title:"are_you_sure",text:"block_article_conf_msg",confirmButtonText:"yes",confirmButtonColor:"red",showCancelButton:!0,cancelButtonText:"no",icon:"warning"}}],this.buttons=[]}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-store-list"]],decls:1,vars:5,consts:[["pluralName","articles","singleName","article","primaryKey","id","deleteURL","articles/:id","retrieveURL","articles","displayLink","/dashboard/articles/display","editLink","/dashboard/articles/form/edit","createLink","/dashboard/articles/form/create","icon","fas fa-newspaper",3,"headers","rowButtons","tableButtons","showSortFilter","showDeleteButton"]],template:function(e,o){1&e&&t._UZ(0,"app-table",0),2&e&&t.Q6J("headers",o.headers)("rowButtons",o.buttons)("tableButtons",o.tableButtons)("showSortFilter",!1)("showDeleteButton",!1)},directives:[A.a],styles:[""]}),r})()},{path:"form/:type",component:x},{path:"display",component:b}]}];let C=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[n.Bz.forChild(Z)],n.Bz]}),r})(),T=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[s.ez,C,g.G,l.aw]]}),r})()}}]);