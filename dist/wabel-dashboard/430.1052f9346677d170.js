"use strict";(self.webpackChunkwabel_dashboard=self.webpackChunkwabel_dashboard||[]).push([[430],{5430:(N,u,a)=>{a.r(u),a.d(u,{NotificationModule:()=>T});var s=a(6019),l=a(7109),f=a(8239),t=a(3668),p=a(3798),c=a(7533),m=a(7236);function g(e,i){if(1&e&&(t.TgZ(0,"div",3),t.TgZ(1,"div",4),t.TgZ(2,"table",5),t.TgZ(3,"tr",6),t.TgZ(4,"td",7),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"td",8),t._UZ(8,"input",9),t.qZA(),t.qZA(),t.TgZ(9,"tr",6),t.TgZ(10,"td",7),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"td",8),t._UZ(14,"input",9),t.qZA(),t.qZA(),t.TgZ(15,"tr",6),t.TgZ(16,"td",7),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"td",8),t._UZ(20,"input",9),t.qZA(),t.qZA(),t.TgZ(21,"tr",6),t.TgZ(22,"td",7),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"td",8),t._uU(26),t.qZA(),t.qZA(),t.TgZ(27,"tr",6),t.TgZ(28,"td",7),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"td",8),t._uU(32),t.qZA(),t.qZA(),t.TgZ(33,"tr",6),t.TgZ(34,"td",7),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"td",8),t.TgZ(38,"a",10),t._uU(39),t.qZA(),t.qZA(),t.qZA(),t.TgZ(40,"tr",6),t.TgZ(41,"td",7),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"td",8),t._uU(45),t.qZA(),t.qZA(),t.TgZ(46,"tr",6),t.TgZ(47,"td",7),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"td",8),t._uU(51),t.ALo(52,"date"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){const o=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,16,"background_color")),t.xp6(3),t.Q6J("value",o.notification.background_color),t.xp6(3),t.Oqu(t.lcZ(12,18,"limit_color")),t.xp6(3),t.Q6J("value",o.notification.limit_color),t.xp6(3),t.Oqu(t.lcZ(18,20,"text_color")),t.xp6(3),t.Q6J("value",o.notification.text_color),t.xp6(3),t.Oqu(t.lcZ(24,22,"text_size")),t.xp6(3),t.Oqu(o.notification.text_size),t.xp6(3),t.Oqu(t.lcZ(30,24,"display")),t.xp6(3),t.Oqu(o.notification.display),t.xp6(3),t.Oqu(t.lcZ(36,26,"link")),t.xp6(4),t.hij(" ",o.notification.link,""),t.xp6(3),t.Oqu(t.lcZ(43,28,"texte")),t.xp6(3),t.Oqu(o.notification.texte),t.xp6(3),t.Oqu(t.lcZ(49,30,"created_at")),t.xp6(3),t.Oqu(t.xi3(52,32,o.notification.created_at,"medium"))}}let Z=(()=>{class e{constructor(o,n,d){this.route=o,this.dataService=n,this.translateService=d}ngOnInit(){var o=this;return(0,f.Z)(function*(){console.log("month before: ",o.monthBefore()),o.getDataId()})()}monthBefore(){const o=new Date;return[...new Array(31).keys()].map((n,d)=>(d&&o.setDate(o.getDate()-1),o.getDate()+" "+o.toString().slice(4,7))).reverse()}getDataId(){this.route.queryParamMap.subscribe(o=>{const n=o.get("id");n&&(this.notificationId=+n),this.getNotification()})}getNotification(){this.dataService.sendGetRequest("notifications/"+this.notificationId,{}).subscribe({next:o=>{this.notification=o},error:o=>{this.notificationError=o}})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(l.gz),t.Y36(p.D),t.Y36(c.sK))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-notification-display"]],decls:3,vars:4,consts:[[1,"px-4","py-2","bg-gray-100","h-full","overflow-auto"],["profileTitle","notification","icon","fa-calendar-alt fas",1,"w-full",3,"title","profileError","showDefaultProfileInfo"],["class","profile-info",4,"ngIf"],[1,"profile-info"],[1,"pl-4","md:mt-4","overflow-x-auto","relative","shadow-md","sm:rounded-lg"],[1,"w-full","text-sm","text-center","text-gray-500","dark:text-gray-400"],[1,"border"],[1,"py-4","px-6","bg-gray-50"],[1,"py-4","px-6"],["type","color","name","","disabled","","id","",3,"value"],["href","notification.link",1,"text-blue-700","no-underline","hover:underline"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"app-display",1),t.YNc(2,g,53,35,"div",2),t.qZA(),t.qZA()),2&o&&(t.xp6(1),t.Q6J("title","notification")("profileError",n.notificationError)("showDefaultProfileInfo",!1),t.xp6(1),t.Q6J("ngIf",n.notification))},directives:[m.D,s.O5],pipes:[c.X$,s.uU],styles:[""]}),e})();var r=a(9133),h=a(2911);let v=(()=>{class e{constructor(){this.listDisplays=[{id:1,name:"\u0638\u0627\u0647\u0631"},{id:2,name:"\u063a\u0628\u0631 \u0638\u0627\u0647\u0631"}],this.headers=[{name:"id",title:"id",hidden:!0,value:""},{name:"background_color",title:"background_color",type:"color",value:"",validators:[{validatorFn:r.kI.required,message:"background_color_required"}]},{name:"limit_color",title:"limit_color",type:"color",value:"",validators:[{validatorFn:r.kI.required,message:"limit_color_required"}]},{name:"display",title:"display",type:"select",selectOptions:{options:this.listDisplays,valueProperty:"name",nameProperty:"name"},value:"",validators:[{validatorFn:r.kI.required,message:"display_required"}]},{name:"text_color",title:"text_color",type:"color",value:"",validators:[{validatorFn:r.kI.required,message:"text_color_required"}]},{name:"text_size",title:"text_size",type:"number",value:"",validators:[{validatorFn:r.kI.required,message:"text_size_required"}]},{title:"link",name:"link",type:"text",value:"",validators:[{validatorFn:r.kI.required,message:"link_required"}]},{title:"texte",name:"texte",type:"textarea",value:"",validators:[{validatorFn:r.kI.required,message:"texte_required"}]}]}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-notification-form"]],decls:1,vars:1,consts:[["pluralName","notifications","singleName","notification","icon","fas fa-bell","redirectLink","/dashboard/notifications/list","retrieveURL","notifications/:id","storeURL","notifications","updateURL","notifications",3,"headers"]],template:function(o,n){1&o&&t._UZ(0,"app-form",0),2&o&&t.Q6J("headers",n.headers)},directives:[h.U],styles:[""]}),e})();var y=a(8745);const x=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-notification"]],decls:1,vars:0,template:function(o,n){1&o&&t._UZ(0,"router-outlet")},directives:[l.lC],styles:[""]}),e})(),children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:(()=>{class e{constructor(){this.headers=[{name:"id",title:"id",hidden:!0,value:""},{name:"background_color",title:"background_color",type:"color"},{name:"text_color",title:"text_color",type:"color"},{name:"created_at",title:"created_at",type:"date"},{name:"text_size",title:"text_size"},{name:"texte",title:"texte",maxLength:30,search:!0},{name:"limit_color",title:"limit_color",type:"color"}],this.tableButtons=[{name:"block",title:"block",icon:"fas fa-ban",color:"blue",dataField:"notifications.id",request:{url:"notifications",method:"delete"},confirmation:{title:"are_you_sure",text:"block_event_conf_msg",confirmButtonText:"yes",confirmButtonColor:"red",showCancelButton:!0,cancelButtonText:"no",icon:"warning"}}],this.buttons=[]}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-notification-list"]],decls:1,vars:5,consts:[["pluralName","notifications","singleName","notification","primaryKey","id","deleteURL","notifications/:id","retrieveURL","notifications","displayLink","/dashboard/notifications/display","editLink","/dashboard/notifications/form/edit","createLink","/dashboard/notifications/form/create","icon","fa-bell fas",3,"headers","rowButtons","tableButtons","showSortFilter","showDeleteButton"]],template:function(o,n){1&o&&t._UZ(0,"app-table",0),2&o&&t.Q6J("headers",n.headers)("rowButtons",n.buttons)("tableButtons",n.tableButtons)("showSortFilter",!1)("showDeleteButton",!1)},directives:[y.a],styles:[""]}),e})()},{path:"form/:type",component:v},{path:"display",component:Z}]}];let q=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[l.Bz.forChild(x)],l.Bz]}),e})();var A=a(6672);let T=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[s.ez,q,A.G,c.aw]]}),e})()}}]);